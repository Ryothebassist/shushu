<!DOCTYPE html>
<html lang="vi" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liên kết thành công | Discord Role Verification</title>

  <!-- Meta tags -->
  <meta name="description" content="Xác thực vai trò Discord thành công tại Quán cafe mèo Shu's house">
  <meta name="keywords" content="Discord, role verification, Shu's house, community">
  <meta name="theme-color" content="#FFB6C1">
  <meta name="color-scheme" content="light dark">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Liên kết thành công | Discord Role Verification">
  <meta property="og:description" content="Xác thực vai trò Discord thành công tại Quán cafe mèo Shu's house">
  <meta property="og:image" content="https://cdn.discordapp.com/avatars/345876818328420362/1423cdff34c3085285ab5809258943af.webp?size=128">
  <meta property="og:url" content="https://your-site.com">
  <meta property="og:type" content="website">

  <!-- Preload optimized fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Roboto:wght@400;500&display=swap">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/avatars/345876818328420362/1423cdff34c3085285ab5809258943af.webp?size=32">
  <link rel="alternate icon" href="/favicon.ico">

  <!-- Styles -->
  <style>
    :root {
      --clr-primary-light: #FF1493;
      --clr-bg-light: #F8FAFC;
      --clr-card-light: #FFFFFF;
      --clr-text-light: #1F2937;
      --clr-text-muted-light: #6B7280;
      --clr-accent-hover-light: #FF69B4;
      --overlay-light: rgba(255,255,255,0.96);

      --clr-primary-dark: #FFB6C1;
      --clr-bg-dark: #1E1E2E;
      --clr-card-dark: #2A2A3A;
      --clr-text-dark: #F3F4F6;
      --clr-text-muted-dark: #9CA3AF;
      --clr-accent-hover-dark: #FF69B4;
      --overlay-dark: rgba(42,42,58,0.96);

      --radius: 12px;
      --trans-fast: 200ms;
      --trans-medium: 300ms;
    }

    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      color-scheme: dark;
      --clr-primary: var(--clr-primary-dark);
      --clr-bg: var(--clr-bg-dark);
      --clr-card: var(--clr-card-dark);
      --clr-text: var(--clr-text-dark);
      --clr-text-muted: var(--clr-text-muted-dark);
      --clr-accent-hover: var(--clr-accent-hover-dark);
      --overlay: var(--overlay-dark);
    }

    [data-theme="light"] {
      color-scheme: light;
      --clr-primary: var(--clr-primary-light);
      --clr-bg: var(--clr-bg-light);
      --clr-card: var(--clr-card-light);
      --clr-text: var(--clr-text-light);
      --clr-text-muted: var(--clr-text-muted-light);
      --clr-accent-hover: var(--clr-accent-hover-light);
      --overlay: var(--overlay-light);
    }

    html {
      scrollbar-width: thin;
      scrollbar-color: var(--clr-primary) var(--clr-bg);
      scroll-behavior: smooth;
    }

    @media (prefers-reduced-motion: reduce) {
      html { scroll-behavior: auto; }
      * { transition: none !important; animation: none !important; }
    }

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--clr-bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--clr-primary);
      border-radius: 12px;
    }

    body {
      min-height: 100vh;
      font-family: 'Roboto', 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--clr-bg);
      color: var(--clr-text);
      display: flex;
      align-items: center;
      justify-content: center;
      perspective: 1000px;
      line-height: 1.6;
      overscroll-behavior: none;
    }

    .background-overlay {
      position: fixed;
      inset: 0;
      background-image: url("https://i.pinimg.com/736x/9f/aa/89/9faa89c554de9aa23345b1865431e4de.jpg");
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      opacity: 0.15;
      filter: blur(4px);
      z-index: -1;
      pointer-events: none;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }

    .controls {
      position: fixed;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 8px;
      z-index: 1000;
    }

    .ctrl-btn {
      width: 40px;
      height: 40px;
      display: grid;
      place-items: center;
      background: hsla(340, 100%, 90%, 0.2);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: transform var(--trans-fast), background var(--trans-fast);
    }

    .ctrl-btn:hover, .ctrl-btn:focus-visible {
      transform: scale(1.1);
      background: hsla(340, 100%, 90%, 0.35);
    }

    .ctrl-btn:focus-visible {
      outline: 2px solid var(--clr-primary);
      outline-offset: 2px;
    }

    .card {
      width: min(95%, 800px);
      padding: clamp(1.5rem, 3vw, 2.5rem);
      background: var(--overlay);
      border-radius: var(--radius);
      border: 1px solid hsla(340, 100%, 90%, 0.3);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
      text-align: center;
      position: relative;
      transition: transform var(--trans-medium);
    }

    .card:hover {
      transform: translateY(-2px);
    }

    h1 {
      font-size: clamp(1.8rem, 3.5vw, 2.5rem);
      font-weight: 700;
      color: var(--clr-primary);
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 8px hsla(340, 100%, 90%, 0.3);
      position: relative;
      display: inline-block;
    }

    h1::after {
      content: "✨";
      position: absolute;
      top: -15px;
      right: -25px;
      font-size: 1.2rem;
      opacity: 0.9;
    }

    p.success {
      max-width: 48ch;
      margin-inline: auto;
      color: var(--clr-text-muted);
      font-size: 1rem;
      margin-bottom: 1.5rem;
    }

    .btn-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 1.5rem;
      justify-content: center;
    }

    @supports (display: grid) {
      .btn-wrap {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }
    }

    .btn {
      padding: 12px 24px;
      border-radius: 10px;
      background: var(--clr-primary);
      color: var(--clr-text);
      text-decoration: none;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      transition: transform var(--trans-fast), background var(--trans-fast);
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: "";
      position: absolute;
      inset: 0;
      left: -100%;
      background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left var(--trans-fast);
    }

    .btn:hover::before, .btn:focus-visible::before {
      left: 100%;
    }

    .btn:hover, .btn:focus-visible {
      transform: translateY(-4px);
      background: var(--clr-accent-hover);
    }

    .btn:focus-visible {
      outline: 2px solid var(--clr-primary);
      outline-offset: 3px;
    }

    .badge {
      position: absolute;
      top: 16px;
      right: 16px;
      background: hsla(340, 100%, 90%, 0.25);
      padding: 8px 14px;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.9rem;
    }

    .badge img {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      object-fit: cover;
    }

    .copy-invite {
      position: absolute;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      padding: 8px 14px;
      background: hsla(340, 100%, 90%, 0.15);
      border-radius: 8px;
      font-size: 0.85rem;
      color: var(--clr-text-muted);
      cursor: pointer;
      transition: background var(--trans-fast), opacity var(--trans-fast);
      min-height: 44px;
    }

    .copy-invite:hover, .copy-invite:focus-visible {
      background: hsla(340, 100%, 90%, 0.25);
      opacity: 1;
    }

    .copy-invite:focus-visible {
      outline: 2px solid var(--clr-primary);
      outline-offset: 2px;
    }

    .lang-toggle {
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1000;
    }

    .lang-btn {
      padding: 8px 16px;
      border-radius: 8px;
      background: hsla(340, 100%, 90%, 0.2);
      border: none;
      color: var(--clr-text);
      cursor: pointer;
      transition: background var(--trans-fast);
      min-height: 44px;
    }

    .lang-btn:hover, .lang-btn:focus-visible {
      background: hsla(340, 100%, 90%, 0.35);
    }

    .toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: var(--clr-card);
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      color: var(--clr-text);
      font-size: 1rem;
      font-weight: 500;
      opacity: 0;
      transition: opacity var(--trans-fast), transform var(--trans-fast);
      z-index: 2000;
      max-width: 90%;
      text-align: center;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(-10px);
    }

    .toast.error {
      background: hsla(0, 100%, 70%, 0.2);
      color: var(--clr-text);
    }

    @media (max-width: 600px) {
      .card {
        width: 90%;
        padding: 1.5rem;
      }

      .btn-wrap {
        gap: 12px;
      }

      .btn {
        width: 100%;
      }

      .controls, .lang-toggle {
        top: 0.5rem;
        right: 0.5rem;
      }

      .lang-toggle {
        left: 0.5rem;
      }

      .toast {
        font-size: 0.9rem;
        padding: 10px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="background-overlay" aria-hidden="true" loading="lazy"></div>

  <div class="lang-toggle">
    <button class="lang-btn" id="lang-toggle" aria-label="Chuyển sang tiếng Anh">🌐 VI/EN</button>
  </div>

  <div class="controls">
    <button class="ctrl-btn" id="theme-toggle" aria-label="Chuyển đổi chế độ sáng/tối">
      <span id="theme-icon" aria-hidden="true">🌙</span>
    </button>
    <button class="ctrl-btn" id="music-toggle" aria-label="Bật/Tắt nhạc nền">
      <span id="music-icon" aria-hidden="true">🔊</span>
    </button>
  </div>

  <main class="card" role="region" aria-label="Xác thực quyền thành công">
    <div class="badge" aria-label="Đã xác thực">
      <img src="https://cdn.discordapp.com/avatars/345876818328420362/1423cdff34c3085285ab5809258943af.webp?size=32" 
           srcset="https://cdn.discordapp.com/avatars/345876818328420362/1423cdff34c3085285ab5809258943af.webp?size=32 32w,
                   https://cdn.discordapp.com/avatars/345876818328420362/1423cdff34c3085285ab5809258943af.webp?size=64 64w"
           sizes="(max-width: 600px) 32px, 64px"
           alt="Server badge" loading="lazy">
      <span data-en="Verified" data-vi="Đã xác thực">Đã xác thực</span>
    </div>

    <h1 id="title" data-en="Verification Successful" data-vi="Liên kết thành công">Liên kết thành công</h1>
    <p class="success" data-en="Here's our server :3" data-vi="Dưới đây là server của chúng tớ :3">Dưới đây là server của chúng tớ :3</p>

    <div class="btn-wrap">
      <a href="https://discord.com/users/345876818328420362" class="btn" target="_blank" rel="noopener noreferrer" data-en="Shu" data-vi="Shu">Shu</a>
      <a href="https://discord.gg/shushu" class="btn" target="_blank" rel="noopener noreferrer" data-en="Shu's Cat Cafe" data-vi="Quán cafe mèo Shu's house">Quán cafe mèo Shu's house</a>
      <a href="https://discord.com" class="btn" target="_blank" rel="noopener noreferrer" data-en="Return to Discord" data-vi="Quay lại Discord">Quay lại Discord</a>
    </div>

    <p class="success" data-en="Meoww :3" data-vi="Meoww :3">Meoww :3</p>
    
    <button class="copy-invite" id="copy-invite" title="Nhấn để copy link" aria-label="Sao chép link mời" data-en="Click to copy link &lt;3" data-vi="Nhấn để copy link &lt;3">Nhấn để copy link &lt;3</button>

    <div class="toast" id="status" role="status" aria-live="polite"></div>
  </main>

  <audio id="bg-music" src="https://cdn.glitch.global/fd1aa21b-5a13-4017-ab2f-329c753ca8fa/music.mp3?v=1743192918981" preload="auto" loop></audio>

  <script>
    (function() {
      "use strict";

      const qs = sel => document.querySelector(sel);
      const qsa = sel => document.querySelectorAll(sel);

      const themeToggle = qs('#theme-toggle');
      const themeIcon = qs('#theme-icon');
      const musicToggle = qs('#music-toggle');
      const musicIcon = qs('#music-icon');
      const bgMusic = qs('#bg-music');
      const copyBtn = qs('#copy-invite');
      const status = qs('#status');
      const langToggle = qs('#lang-toggle');

      let userInteracted = false;
      let playing = false;

      // Detect user interaction
      document.addEventListener('click', () => {
        if (!userInteracted && !playing) {
          userInteracted = true;
          tryAutoPlay();
        }
      }, { once: true });

      const applyTheme = theme => {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        themeIcon.textContent = theme === 'dark' ? '☀️' : '🌙';
      };

      const initTheme = () => {
        const stored = localStorage.getItem('theme');
        const preferred = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
        applyTheme(stored || preferred);
      };

      themeToggle.addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        applyTheme(current === 'dark' ? 'light' : 'dark');
      });

      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        if (!localStorage.getItem('theme')) {
          applyTheme(e.matches ? 'dark' : 'light');
        }
      });

      const toggleMusic = async () => {
        try {
          if (playing) {
            await bgMusic.pause();
            musicIcon.textContent = '🔇';
            playing = false;
          } else {
            await bgMusic.play();
            musicIcon.textContent = '🔊';
            playing = true;
          }
        } catch (error) {
          musicIcon.textContent = '🔇';
          showStatus(langToggle.dataset.lang === 'en' ? 'Cannot play audio due to browser policy' : 'Không thể phát nhạc do chính sách trình duyệt', true);
        }
      };

      const tryAutoPlay = async () => {
        // Check if autoplay is likely to succeed
        if (navigator.mediaSession && navigator.mediaSession.playbackState === 'playing') {
          return; // Avoid duplicate playback
        }
        try {
          await bgMusic.play();
          musicIcon.textContent = '🔊';
          playing = true;
        } catch (error) {
          musicIcon.textContent = '🔇';
          showStatus(langToggle.dataset.lang === 'en' ? 'Click anywhere to play music' : 'Nhấn bất kỳ đâu để phát nhạc', true, 5000);
        }
      };

      musicToggle.addEventListener('click', toggleMusic);

      const inviteLinks = ['https://discord.gg/shushu'];
      copyBtn.addEventListener('click', async () => {
        const random = inviteLinks[Math.floor(Math.random() * inviteLinks.length)];
        try {
          await navigator.clipboard.writeText(random);
          copyBtn.textContent = langToggle.dataset.lang === 'en' ? 'Copied! 📋' : 'Đã copy! 📋';
          copyBtn.style.background = 'hsla(340, 100%, 90%, 0.3)';
          showStatus(langToggle.dataset.lang === 'en' ? 'Invite link copied' : 'Đã sao chép liên kết mời');
          setTimeout(() => {
            copyBtn.textContent = langToggle.dataset.lang === 'en' ? 'Click to copy link <3' : 'Nhấn để copy link <3';
            copyBtn.style.background = 'hsla(340, 100%, 90%, 0.15)';
          }, 2000);
        } catch (err) {
          console.error("Copy failed:", err);
          copyBtn.textContent = langToggle.dataset.lang === 'en' ? 'Copy failed' : 'Lỗi khi copy';
          copyBtn.style.background = 'hsla(0, 100%, 70%, 0.2)';
          showStatus(langToggle.dataset.lang === 'en' ? 'Failed to copy link' : 'Không thể sao chép liên kết', true);
          setTimeout(() => {
            copyBtn.textContent = langToggle.dataset.lang === 'en' ? 'Click to copy link <3' : 'Nhấn để copy link <3';
            copyBtn.style.background = 'hsla(340, 100%, 90%, 0.15)';
          }, 3000);
        }
      });

      let statusTimeout;
      const showStatus = (message, isError = false, duration = 3000) => {
        clearTimeout(statusTimeout);
        status.textContent = message;
        status.classList.add('show');
        if (isError) status.classList.add('error');
        status.setAttribute('aria-live', isError ? 'assertive' : 'polite');
        statusTimeout = setTimeout(() => {
          status.classList.remove('show', 'error');
          status.textContent = '';
          status.setAttribute('aria-live', 'polite');
        }, duration);
      };

      const toggleLanguage = () => {
        const isEnglish = langToggle.dataset.lang === 'en';
        langToggle.dataset.lang = isEnglish ? 'vi' : 'en';
        langToggle.textContent = isEnglish ? '🌐 VI/EN' : '🌐 EN/VI';
        langToggle.setAttribute('aria-label', isEnglish ? 'Chuyển sang tiếng Việt' : 'Switch to English');

        qsa('[data-en]').forEach(el => {
          if (!el.dataset.vi) console.warn(`Missing data-vi for element: ${el.textContent}`);
          el.textContent = isEnglish ? el.dataset.en : (el.dataset.vi || el.textContent);
        });

        copyBtn.title = isEnglish ? 'Click to copy link' : 'Nhấn để copy link';
        copyBtn.setAttribute('aria-label', isEnglish ? 'Copy invite link' : 'Sao chép link mời');
        showStatus(isEnglish ? 'Language switched to English' : 'Đã chuyển sang tiếng Việt');
      };

      langToggle.addEventListener('click', toggleLanguage);

      document.addEventListener('DOMContentLoaded', () => {
        initTheme();
        const focusables = qsa('a, button, [tabindex="0"]');
        const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

        focusables.forEach(el => {
          el.addEventListener('focus', () => {
            if (!reducedMotion) {
              el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          });
        });

        document.addEventListener('keydown', e => {
          if (e.key === 'Escape' && playing) {
            toggleMusic();
          }
          if (e.key === 'l' && e.ctrlKey) {
            toggleLanguage();
          }
        });

        // Attempt autoplay after audio is loaded
        bgMusic.addEventListener('canplay', tryAutoPlay, { once: true });
        bgMusic.load();
      });
    })();
  </script>
</body>
</html>
